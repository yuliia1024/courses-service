alerts:
- rule: DEPLOYMENT_FAILED
- rule: DOMAIN_FAILED
databases:
- cluster_name: courses-db
  db_name: defaultdb
  db_user: doadmin
  engine: MYSQL
  name: courses-db
  production: true
  size: basic-xs
  version: "8"
- cluster_name: courses-redis
  engine: REDIS
  name: courses-redis
  production: true
  size: basic-xs
  version: "7"
ingress:
  rules:
  - component:
      name: courses-service
    match:
      path:
        prefix: /
name: walrus-app
region: fra
services:
- dockerfile_path: Dockerfile
  envs:
  - key: DATABASE_URL
    scope: RUN_TIME
    value: ${courses-db.DATABASE_URL}
  - key: REDIS_URL
    scope: RUN_TIME
    value: ${courses-redis.DATABASE_URL}
  github:
    branch: main
    deploy_on_push: true
    repo: yuliia1024/courses-service
  http_port: 3000
  instance_count: 1
  instance_size_slug: basic-xxs
  name: courses-service
  run_command: npm run start
  source_dir: /
